(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{548:function(e,t,n){"use strict";n(188);var i=n(550),r=n.n(i),a=n(111),s="http://47.111.92.27:8089/fw",o="http://47.111.92.27:8090/xd",c="http://47.111.92.27:8091/dsyun/file/",u=localStorage.getItem("token"),l=r.a.create({baseURL:s});function d(){l({url:"/employee/login",method:"post",params:{account:13995519564,password:"admin"}}).then(function(e){var t=e.data;localStorage.setItem("token",t.tokenId),location.reload()})}l.interceptors.request.use(function(e){return"xdApi"===e.name?e.baseURL=o:"upload"===e.name&&(e.baseURL=c),e.headers["X-Token"]=u,e},function(e){console.log(e),Promise.reject(e)}),l.interceptors.response.use(function(e){var t=e.data;return e.config.responseType&&"arraybuffer"==e.config.responseType?e:"1000"==t.msgCode?t:(e.config.hiddenPopup||Object(a.Message)({message:t.msg,type:"error",duration:5e3}),15==t.msgCode&&Object(a.Message)({message:"您的登录失效，请重新登录！",type:"error",duration:5e3}),Promise.reject(t))},function(e){return console.log("err",e),e.message&&(Object(a.Message)({message:e.message,type:"error",duration:5e3}),d()),Promise.reject(e)}),u||d(),t.a=l},569:function(e,t,n){"use strict";n.d(t,"c",function(){return r}),n.d(t,"a",function(){return a}),n.d(t,"b",function(){return s});var i=n(548);function r(e){return Object(i.a)({url:"/dic/province",method:"get",name:"xdApi",params:e})}function a(e){return Object(i.a)({url:"/dic/city",method:"get",name:"xdApi",params:e})}function s(e){return Object(i.a)({url:"/dic/distinct",method:"get",name:"xdApi",params:e})}},570:function(e,t,n){},657:function(e,t,n){"use strict";var i=n(570);n.n(i).a},670:function(e,t,n){"use strict";n.r(t);n(200);var i=n(569),r={props:{value:{type:Array,default:function(){return[]}},width:{type:String,default:"100%"},size:{type:String,default:"small"},changeOnSelect:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},layer:{type:Number,default:3}},data:function(){return{selRegion:[],provinceList:[],cityProps:{value:"id",label:"label"}}},methods:{resetRegion:function(){this.selRegion=[]},returnRegion:function(e){e&&(this.selRegion=e,this.returnData(e))},returnData:function(e){var t=this;Object(i.c)({token:this.$store.getters.token}).then(function(n){if(n.success){var r=n.data;if(t.layer>1)for(var a in r)r[a].children=[];t.provinceList=r;var s={provinceId:e[0],token:t.$store.getters.token},o=t.arrIndex(e);t.layer>1&&Object(i.a)(s).then(function(n){if(n.success){var r=n.data;if(t.layer>2)for(var a in r)r[a].children=[];t.provinceList[o[0]].children=r;var s={cityId:e[1],token:t.$store.getters.token},c=t.arrIndex(e);t.layer>2&&Object(i.b)(s).then(function(n){if(n.success){t.provinceList[c[0]].children[c[1]].children=n.data,t.$emit("input",e);var i=t.$refs.regionCascader.currentLabels;i?t.$emit("get-region-names",i):t.$emit("get-region-names",[]),t.$emit("regionObj",i,e)}})}})}})},handlePrivinceChange:function(e){var t=e.length;this.layer!=t&&(1==t?this.updateCity(e):2==t&&this.updateDic(e))},provinceChange:function(e){this.$emit("input",e);var t=this.$refs.regionCascader.currentLabels;if(t?this.$emit("get-region-names",t,"change"):this.$emit("get-region-names",[]),this.$emit("regionObj",t,e),this.changeOnSelect){var n=e.length;1==n?this.updateCity(e):2==n&&this.updateDic(e)}},updateCity:function(e){var t=this,n=e[0],r=this.arrIndex(e),a={provinceId:n,token:this.$store.getters.token};Object(i.a)(a).then(function(e){if(e.success){var n=e.data;if(t.layer>2)for(var i in n)n[i].children=[];t.provinceList[r[0]].children=n}})},updateDic:function(e){var t=this,n=e[1],r=this.arrIndex(e),a={cityId:n,token:this.$store.getters.token};Object(i.b)(a).then(function(e){e.success&&(t.provinceList[r[0]].children[r[1]].children=e.data)})},getProvince:function(){var e=this;Object(i.c)({token:this.$store.getters.token}).then(function(t){if(t.success){var n=t.data;if(e.layer>1)for(var i in n)n[i].children=[];e.provinceList=n}})},arrIndex:function(e){var t=this.provinceList,n=[];for(var i in t)if(t[i].id==e[0])for(var r in n.push(i),t[i].children)t[i].children[r].id==e[1]&&n.push(r);return n}},mounted:function(){this.getProvince()},watch:{value:function(e){null!=e&&0!=e.length||(this.getProvince(),this.selRegion=[],this.$emit("get-region-names",[]),this.$emit("regionObj",[],[]))}}},a=(n(657),n(11)),s=Object(a.a)(r,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-cascader",{ref:"regionCascader",style:{width:e.width},attrs:{clearable:e.clearable,size:e.size,"change-on-select":e.changeOnSelect,options:e.provinceList,props:e.cityProps},on:{"active-item-change":e.handlePrivinceChange,change:e.provinceChange},model:{value:e.selRegion,callback:function(t){e.selRegion=t},expression:"selRegion"}})],1)},[],!1,null,"4ee6e687",null);t.default=s.exports}}]);